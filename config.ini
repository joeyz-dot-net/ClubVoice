[server]
host = 0.0.0.0
port = 5000
debug = true

[audio]
duplex_mode = full
mix_mode = true

# === 3-Cable VB-Cable架构设备配置 ===
# CABLE-C (Clubdeck房间音频 → Python读取)
clubdeck_input_device_id = 34

# CABLE-B (MPV音乐 → Python读取，双路分发)
mpv_input_device_id = 35

# CABLE-A (浏览器麦克风+MPV混音 → Clubdeck输入, Python写入)
browser_output_device_id = 28

# === 音频闪避配置 ===
# Clubdeck 房间有人说话时，是否降低 MPV 音乐音量
mpv_ducking_enabled = false

# 浏览器用户说话时，是否降低从 Clubdeck 接收的音频音量
browser_ducking_enabled = true
ducking_gain = 0.0
ducking_threshold = 50

ducking_min_duration = 0.1
ducking_release_time = 0.5
ducking_transition_time = 0.02

[cors]
# 允许访问的域名列表
enabled = true
allowed_origins = http://d.joeyz.net,
	                  https://d.joeyz.net,
	                  http://c.joeyz.net,
	                  https://c.joeyz.net,
	                  http://e.joeyz.net,
	                  https://e.joeyz.net,
	                  http://localhost:5000,
	                  http://127.0.0.1:5000,
	                  http://localhost:8080,
	                  http://127.0.0.1:8080,
	                  https://p.joeyz.net,
	                  http://p.joeyz.net,
	                  http://b.joeyz.net,
	                  https://b.joeyz.net

[mpv]
enabled = true
default_pipe = \\.\pipe\mpv-pipe
# Clubdeck房间有人说话 MPV播放器音量
ducking_volume = 30
normal_volume = 75

